<!DOCTYPE html>
<html>
<head>
  <title>F1 Haptic Trailer (Android Version)</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #000;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    video {
      width: 100%;
      max-width: 800px;
      border: 2px solid #fff;
      margin-top: 20px;
    }
    h1 {
      font-size: 24px;
    }
    p {
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>F1 Movie â€“ Haptic Trailer</h1>
  <p>Play the trailer and feel synchronized vibrations (best on Android)</p>

  <video id="f1video" controls>
    <video id="f1video" controls>
  <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>Your browser does not support the video tag.
  </video>

  <script>
    const video = document.getElementById("f1video");

    // Apple-style haptic simulation events (seconds + vibration pattern)
    const hapticEvents = [
      { time: 2, pattern: [50, 50, 50, 50] },   // Engine rev
      { time: 5, pattern: [200] },              // Speed surge
      { time: 8, pattern: [70] },               // Gear shift
      { time: 11, pattern: [70] },              // Gear shift
      { time: 14, pattern: [70] },              // Gear shift
      { time: 16, pattern: [100, 30, 100, 30] }, // Acceleration
      { time: 20, pattern: [300] }              // Final roar
    ];

    const triggered = new Set();

    video.addEventListener("timeupdate", () => {
      const currentTime = Math.floor(video.currentTime);
      hapticEvents.forEach(event => {
        if (currentTime === event.time && !triggered.has(event.time)) {
          if ("vibrate" in navigator) {
            navigator.vibrate(event.pattern);
            triggered.add(event.time);
          }
        }
      });
    });
  </script>
</body>
</html>
